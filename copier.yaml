_subdirectory: template

project_name:
  type: str
  default: "My project"
  help: "Human-readable project name"

author_name:
  type: str
  default: "Flavio Monteiro"
  help: "Author name"

sphinx_theme:
  type: str
  default: sphinx_book_theme
  choices:
    - sphinx_book_theme
    - sphinx_rtd_theme

include_copyright:
  type: bool
  default: false
  help: Include copyright notice?

include_version:
  type: bool
  default: false
  help: Include version?

version:
  type: str
  default: "0.1.0"
  help: "Initial project version"
  when: "{{ include_version }}"

include_autosectionlabel:
  type: bool
  default: true
  help: Include sphinx.ext.autosectionlabel?

include_intersphinx:
  type: bool
  default: false
  help: Include sphinx.ext.intersphinx template?

# P.S. _tasks makes it obligatory to use either --trust or --skip--tasks
# when running `copier copy`
_tasks:
  - command: python -m venv .venv

  - command: . .venv/bin/activate && pip install -r requirements.txt
    when: "{{ _copier_conf.os in  ['linux', 'macos'] }}"
